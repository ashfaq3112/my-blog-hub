<!DOCTYPE html>
<html lang="en">
<head>
  <title>MyBlog - Home</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
    
    .glass-effect {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .floating-animation {
      animation: float 6s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }
    
    .gradient-text {
      background: linear-gradient(45deg, #f093fb 0%, #f5576c 25%, #4facfe 50%, #00f2fe 75%, #43e97b 100%);
      background-size: 400% 400%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradientShift 4s ease-in-out infinite;
    }
    
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    .hover-glow:hover {
      box-shadow: 0 0 30px rgba(139, 92, 246, 0.6);
      transform: translateY(-5px);
    }
    
    .card-hover {
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    .card-hover:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
    }
    
    .parallax-bg {
      background-attachment: fixed;
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
    }
    
    .typing-animation {
      overflow: hidden;
      border-right: 3px solid #f093fb;
      white-space: nowrap;
      animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
    }
    
    @keyframes typing {
      from { width: 0; }
      to { width: 100%; }
    }
    
    @keyframes blink-caret {
      from, to { border-color: transparent; }
      50% { border-color: #f093fb; }
    }
    
    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: linear-gradient(45deg, #f093fb, #4facfe);
      border-radius: 50%;
      animation: particle-float 8s linear infinite;
    }
    
    @keyframes particle-float {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
    }
  </style>
</head>
<body class="bg-gradient-to-br from-gray-950 via-purple-950 to-gray-950 text-gray-200 overflow-x-hidden">
  
  <div class="fixed inset-0 pointer-events-none z-0">
    <div class="particle" style="left: 10%; animation-delay: 0s;"></div>
    <div class="particle" style="left: 20%; animation-delay: 2s;"></div>
    <div class="particle" style="left: 30%; animation-delay: 4s;"></div>
    <div class="particle" style="left: 40%; animation-delay: 1s;"></div>
    <div class="particle" style="left: 50%; animation-delay: 3s;"></div>
    <div class="particle" style="left: 60%; animation-delay: 5s;"></div>
    <div class="particle" style="left: 70%; animation-delay: 2.5s;"></div>
    <div class="particle" style="left: 80%; animation-delay: 4.5s;"></div>
    <div class="particle" style="left: 90%; animation-delay: 1.5s;"></div>
  </div>
  
  <%- include("partials/navbar") %>
  
  <header class="relative min-h-screen flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0">
      <div class="absolute -top-40 -left-40 w-96 h-96 bg-gradient-to-r from-purple-500/30 to-pink-500/30 rounded-full blur-3xl floating-animation"></div>
      <div class="absolute -bottom-40 -right-40 w-96 h-96 bg-gradient-to-r from-blue-500/30 to-cyan-500/30 rounded-full blur-3xl floating-animation" style="animation-delay: 2s;"></div>
      <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-gradient-to-r from-violet-500/10 to-purple-500/10 rounded-full blur-3xl"></div>
    </div>
    
    <div class="relative container mx-auto px-6 text-center z-10">
      <div class="mb-8 mt-" data-aos="fade-down">
        <h1 class="text-xl md:text-8xl font-black mb-6 tracking-tight leading-none">
          Welcome to
          <br>
          <span class="gradient-text block mt-4">MyBlog</span>
        </h1>
      </div>
      
      <div class="max-w-4xl mx-auto mb-12" data-aos="fade-up" data-aos-delay="200">
        <p class="text-xl md:text-2xl text-gray-300 mb-6 leading-relaxed">
          Share your <span class="text-yellow-300 font-semibold">thoughts</span>,
          explore <span class="text-pink-300 font-semibold">ideas</span>,
          and inspire the <span class="text-blue-300 font-semibold">world</span>
          <span class="text-2xl">üåç</span>
        </p>
        <div class="typing-animation inline-block text-lg text-purple-300 font-medium">
          Join thousands of writers sharing their stories...
        </div>
      </div>
      
      <div class="flex flex-col sm:flex-row gap-6 justify-center items-center" data-aos="zoom-in" data-aos-delay="400">
        <% if (!user) { %>
          <a href="/register" class="group relative px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold rounded-2xl shadow-2xl hover-glow transition-all duration-300 transform hover:scale-105">
            <span class="relative z-10">Get Started</span>
            <div class="absolute inset-0 bg-gradient-to-r from-purple-700 to-pink-700 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </a>
          <a href="/login" class="group px-8 py-4 glass-effect text-white font-semibold rounded-2xl hover-glow transition-all duration-300 transform hover:scale-105">
            <span class="relative z-10">Login</span>
          </a>
        <% } else { %>
          <a href="/blogs" class="group relative px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold rounded-2xl shadow-2xl hover-glow transition-all duration-300 transform hover:scale-105">
            <span class="relative z-10">Explore Blogs</span>
          </a>
          <a href="/user/profile" class="group px-8 py-4 glass-effect text-white font-semibold rounded-2xl hover-glow transition-all duration-300 transform hover:scale-105">
            <span class="relative z-10">My Profile</span>
          </a>
        <% } %>
      </div>
       <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto mt-10" data-aos="fade-up" data-aos-delay="600">
        <a href="/blogs/category/tech" class="glass rounded-2xl p-6 text-center transform transition-all duration-300 hover:scale-105 hover:shadow-lg">
          <div class="text-3xl font-bold gradient-text mb-2">üíª</div>
          <div class="text-gray-400 font-medium">Tech</div>
        </a>
        <a href="/blogs/category/travel" class="glass rounded-2xl p-6 text-center transform transition-all duration-300 hover:scale-105 hover:shadow-lg">
          <div class="text-3xl font-bold gradient-text mb-2">‚úàÔ∏è</div>
          <div class="text-gray-400 font-medium">Travel</div>
        </a>
        <a href="/blogs/category/lifestyle" class="glass rounded-2xl p-6 text-center transform transition-all duration-300 hover:scale-105 hover:shadow-lg">
          <div class="text-3xl font-bold gradient-text mb-2">‚ú®</div>
          <div class="text-gray-400 font-medium">Lifestyle</div>
        </a>
      </div>
    </div>
      
      
    </div>
  </header>
  
  <% if (trendingBlogs && trendingBlogs.length > 0) { %>
    <section class="container mx-auto px-6 py-20 relative z-10">
      <div class="text-center mb-16" data-aos="fade-up">
        <h2 class="text-5xl font-bold mb-4">
          <span class="gradient-text">üî• Trending</span> Blogs
        </h2>
        <p class="text-xl text-gray-400">Discover the most popular stories right now</p>
      </div>
      
      <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
        <% trendingBlogs.forEach((blog, index) => { %>
          <a href="/blogs/<%= blog._id %>" data-aos="fade-up" data-aos-delay="<%= index * 100 %>" class="group glass-effect rounded-3xl shadow-2xl overflow-hidden card-hover block">
            <div class="h-48 relative">
              <img src="/images/uploads/<%= blog.thumbnail %>" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
              <div class="absolute inset-0 bg-black/20"></div>
              <% if (blog.category) { %>
                <div class="absolute bottom-4 left-4 text-black">
                  <span class="bg-white/20 px-3 py-1 rounded-full text-sm font-medium hover:bg-black/40 transition-colors">#<%= blog.category %></span>
                </div>
              <% } %>
            </div>
            <div class="p-6">
              <h3 class="text-xl font-bold mb-3 text-white group-hover:text-purple-400 transition-colors">
                <%= blog.title %>
              </h3>
              <p class="text-sm text-blue-400 mb-3">By @<%= blog.user.name %> | <%= blog.createdAt.toDateString() %></p>
              <p class="text-gray-300 mb-4 line-clamp-3"><%= blog.content %></p>
              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4 text-sm text-gray-400">
                  <span>‚ù§Ô∏è <%= blog.likes.length %></span>
                  <span>üí¨ <%= blog.comments.length %></span>
                </div>
              </div>
            </div>
          </a>
        <% }) %>
      </div>
    </section>
  <% } %>
  
  <section class="container mx-auto px-6 py-20 relative z-10">
    <div class="text-center mb-16" data-aos="fade-up">
      <h2 class="text-5xl font-bold mb-4">
        <span class="gradient-text">üìö Latest</span> Blogs
      </h2>
      <p class="text-xl text-gray-400">Fresh stories from our community</p>
    </div>
    
    <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
      <% if (posts && posts.length > 0) { %>
        <% posts.reverse().forEach((post, index) => { %>
          <a href="/blogs/<%= post._id %>" data-aos="zoom-in" data-aos-delay="<%= index * 100 %>" class="group glass-effect rounded-3xl shadow-2xl overflow-hidden card-hover block">
            <div class="h-48 relative">
              <img src="/images/uploads/<%= post.thumbnail || 'default.webp' %>" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
              <div class="absolute inset-0 bg-black/20"></div>
              <% if (post.category) { %>
                <div class="absolute top-4 left-4 text-black">
                  <span class="bg-black/20 px-3 py-1 rounded-full text-sm font-medium hover:bg-white/40 transition-colors">#<%= post.category %></span>
                </div>
              <% } %>
            </div>
            <div class="p-6">
              <h3 class="text-xl font-bold mb-3 text-white group-hover:text-purple-400 transition-colors">
                <%= post.title %>
              </h3>
              <p class="text-sm text-blue-400 mb-3">By @<%= post.user.name %> | <%= post.createdAt.toDateString() %></p>
              <p class="text-gray-300 mb-4 line-clamp-3"><%= post.content.substring(0, 120) %>...</p>
              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4 text-sm text-gray-400">
                  <span>‚ù§Ô∏è <%= post.likes.length %></span>
                  <span>üí¨ <%= post.comments.length %></span>
                </div>
              </div>
            </div>
          </a>
        <% }) %>
      <% } else { %>
        <div class="col-span-full text-center py-20">
          <div class="glass-effect rounded-3xl p-12 max-w-md mx-auto">
            <div class="text-6xl mb-4">‚úçÔ∏è</div>
            <h3 class="text-2xl font-bold mb-4 text-white">No blogs yet!</h3>
            <p class="text-gray-400 mb-6">Be the first to share your story with the world.</p>
            <a href="/blogs/create" class="inline-block px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover-glow transition-all duration-300 transform hover:scale-105">Create First Blog</a>
          </div>
        </div>
      <% } %>
    </div>
  </section>
  
  <%- include("partials/footer") %>
  
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({ 
      duration: 1000, 
      once: true, 
      easing: "ease-out-cubic",
      offset: 50
    });
  </script>
</body>
</html>